<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Página de Mateo 6-2 — Descarga con tarjeta 3D</title>
  <style>
    /* ---------- Base / Matrix / Layout ---------- */
    :root {
      --amber-500: #f59e0b;
      --amber-400: #fbbf24;
      --amber-600: #d97706;
    }

    body{
      margin:0;
      height:100vh;
      background:black;
      color:#00ff00;
      font-family: 'Courier New', Courier, monospace;
      overflow:hidden;
    }

    canvas{
      position:fixed;
      top:0; left:0;
      z-index:-2;
    }

    .container{
      display:none;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      height:100vh;
      text-align:center;
      padding:20px;
      position:relative;
      z-index:1;
    }

    .typing-text{
      font-size:clamp(1.2rem,4vw,2.2rem);
      color:#00ff00;
      text-shadow:0 0 5px #00ff00,0 0 12px #00ff00;
      border-right:2px solid #00ff00;
      white-space:nowrap;
      overflow:hidden;
      width:0;
      animation: typing 4s steps(30,end) infinite alternate, blink .7s infinite;
      margin-bottom:18px;
    }
    @keyframes typing{ from{width:0} to{width:25ch} }
    @keyframes blink{ 50%{ border-color: transparent } }

    /* ---------- Loader & spinner ---------- */
    #loader{
      position:fixed; inset:0;
      background:black;
      display:flex; align-items:center; justify-content:center; flex-direction:column;
      z-index:9999; color:#00ff00; font-size:1.4rem;
    }

    .spinner{ width:44px; height:44px; animation: spinner-y 2s infinite ease; transform-style:preserve-3d; margin-top:14px; }
    .spinner>div{ background-color: rgba(0,77,255,0.18); height:100%; position:absolute; width:100%; border:2px solid #004dff; box-sizing:border-box; border-radius:4px; }
    .spinner div:nth-of-type(1){ transform: translateZ(-22px) rotateY(180deg); }
    .spinner div:nth-of-type(2){ transform: rotateY(-270deg) translateX(50%); transform-origin: top right; }
    .spinner div:nth-of-type(3){ transform: rotateY(270deg) translateX(-50%); transform-origin: center left; }
    .spinner div:nth-of-type(4){ transform: rotateX(90deg) translateY(-50%); transform-origin: top center; }
    .spinner div:nth-of-type(5){ transform: rotateX(-90deg) translateY(50%); transform-origin: bottom center; }
    .spinner div:nth-of-type(6){ transform: translateZ(22px); }
    @keyframes spinner-y {
      0%{ transform: rotate(45deg) rotateX(-25deg) rotateY(25deg); }
      50%{ transform: rotate(45deg) rotateX(-385deg) rotateY(25deg); }
      100%{ transform: rotate(45deg) rotateX(-385deg) rotateY(385deg); }
    }

    /* ---------- Botón (estándar) ---------- */
    .download-area { display:flex; flex-direction:column; align-items:center; gap:14px; z-index:2; }
    .download-btn button{
      width:165px; height:62px; cursor:pointer;
      color:#fff; font-size:17px; border-radius:12px; border:none;
      position:relative; background:#100720; transition:.25s;
      box-shadow:0 0 10px rgba(255,94,247,0.6);
    }
    .download-btn button:hover{ transform:scale(1.05); box-shadow:0 0 20px rgba(2,245,255,0.9),0 0 30px rgba(255,94,247,0.9); }
    .download-btn button:active{ transform:scale(.95) rotate(2deg); }

    /* ---------- Tarjeta 3D (recreación del snippet Tailwind) ---------- */
    .file-wrapper {
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      width:100%;
    }

    .file {
      width: 15rem;            /* w-60 = 240px (15rem) */
      height: 10rem;           /* h-40 = 160px (10rem) */
      cursor: pointer;
      perspective: 1500px;
      position: relative;
      z-index: 50;
      display: grid;
      place-items: center;
    }

    /* The layered faces */
    .work-5 {
      width:100%; height:100%;
      background: var(--amber-600);
      border-radius: 16px;
      border-top-left-radius: 0;
      position: relative;
      transform-origin: top center;
      transition: box-shadow .25s ease, transform .3s ease;
    }
    .work-5::after{
      content:"";
      position:absolute;
      bottom:99%;
      left:0;
      width:80px; height:16px;
      background: var(--amber-600);
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      filter: blur(.0px);
    }
    .work-5::before{
      content:"";
      position:absolute;
      top:-15px;
      left:75.5px;
      width:16px; height:16px;
      background: var(--amber-600);
      /* small triangular clip */
      clip-path: polygon(0 35%, 0% 100%, 50% 100%);
    }

    .work-4, .work-3, .work-2 {
      position:absolute;
      inset: 8px; /* similar to absolute inset-1 */
      border-radius: 12px;
      transition: transform .3s ease;
      transform-origin: bottom center;
      pointer-events: none;
    }
    .work-4 { background: #a8a29e; } /* zinc-400 */
    .work-3 { background: #d1d5db; } /* zinc-300 */
    .work-2 { background: #e5e7eb; } /* zinc-200 */

    .work-1 {
      position:absolute;
      bottom:0;
      width:100%;
      height:156px; /* same as the original code */
      border-radius: 16px;
      border-top-right-radius: 0;
      background: linear-gradient(to top, var(--amber-500), var(--amber-400));
      display:flex;
      align-items:flex-end;
      transform-origin: bottom center;
      transition: transform .3s ease, box-shadow .3s ease;
      box-shadow: inset 0 20px 40px rgba(251,191,36,0.12), inset 0 -20px 40px rgba(217,119,6,0.06);
    }
    .work-1::after{
      content:"";
      position:absolute;
      bottom:99%;
      right:0;
      width:146px; height:16px;
      background: var(--amber-400);
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }
    .work-1::before{
      content:"";
      position:absolute;
      top:-10px;
      right:142px;
      width:16px; height:16px;
      background: var(--amber-400);
      /* triangular clip */
      clip-path: polygon(100% 14%, 50% 100%, 100% 100%);
    }

    /* hover group -> rotate layers */
    .file:hover .work-4 { transform: rotateX(-20deg); }
    .file:hover .work-3 { transform: rotateX(-30deg); }
    .file:hover .work-2 { transform: rotateX(-38deg); }
    .file:hover .work-1 { transform: rotateX(-46deg) translateY(1px); box-shadow: inset 0 20px 40px #fbbf24, inset 0 -20px 40px #d97706; }

    /* subtle shadow on the top-most when hovered */
    .file:hover .work-5 { box-shadow: 0 20px 40px rgba(0,0,0,.2); transform: translateZ(4px); }

    /* caption */
    .file-caption{
      margin-top:0.75rem;
      font-size:1.4rem;
      color:#fff;
      opacity:.2;
      pointer-events:none;
    }

    /* responsive */
    @media (max-width:420px){
      .file { width:12rem; height:8rem; }
      .work-1 { height:120px; }
    }
  </style>
</head>
<body>
  <!-- Loader -->
  <div id="loader">
    <div>Cargando sistema...</div>
    <div class="spinner" aria-hidden="true">
      <div></div><div></div><div></div><div></div><div></div><div></div>
    </div>
  </div>

  <!-- Matrix canvas -->
  <canvas id="matrix"></canvas>

  <!-- Contenido -->
  <div class="container">
    <div class="typing-text">El mejor grupo de la exposición...</div>

    <!-- ---------- DESCARGAS: aquí se colocó la tarjeta 3D (solo en descargas) ---------- -->
    <div class="download-area" aria-label="Área de descarga">
      <div class="file-wrapper">
        <!-- file 3D -->
        <div class="file" role="button" tabindex="0" aria-label="Archivo interactivo">
          <div class="work-5" aria-hidden="true"></div>
          <div class="work-4" aria-hidden="true"></div>
          <div class="work-3" aria-hidden="true"></div>
          <div class="work-2" aria-hidden="true"></div>
          <div class="work-1" aria-hidden="true"></div>
        </div>
        <p class="file-caption">Hover over</p>
      </div>

      <!-- Botón descargar -->
      <div class="download-btn">
        <a href="video.mp4" download><button>Descargar</button></a>
      </div>
    </div>
  </div>

  <script>
    // ============ Matrix ============
    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    const fontSize = 16;
    function resizeCanvas(){ canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    resizeCanvas();
    let columns = Math.floor(canvas.width / fontSize);
    let drops = new Array(columns).fill(1);
    const letters = "01";

    function draw(){
      ctx.fillStyle = "rgba(0,0,0,0.05)";
      ctx.fillRect(0,0,canvas.width,canvas.height);
      ctx.fillStyle = `hsl(${Math.random()*360},100%,50%)`;
      ctx.font = fontSize + "px monospace";
      for(let i=0;i<drops.length;i++){
        const ch = letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(ch, i*fontSize, drops[i]*fontSize);
        if(drops[i]*fontSize > canvas.height && Math.random() > 0.975) drops[i]=0;
        drops[i]++;
      }
    }
    let matrixInterval = setInterval(draw, 35);
    window.addEventListener('resize', ()=>{
      resizeCanvas();
      columns = Math.floor(canvas.width / fontSize);
      drops = new Array(columns).fill(1);
    });

    // ============ Loader -> show content ============
    window.addEventListener('load', ()=>{
      const loader = document.getElementById('loader');
      setTimeout(()=>{
        loader.style.opacity = 0;
        loader.style.transition = '0.45s';
        setTimeout(()=> { loader.style.display = 'none'; document.querySelector('.container').style.display = 'flex'; }, 450);
      }, 1500);
    });

    // Accessibility: allow keyboard "hover" (focus) to also trigger transforms
    const fileEl = document.querySelector('.file');
    fileEl.addEventListener('focus', () => fileEl.classList.add('focused'));
    fileEl.addEventListener('blur', () => fileEl.classList.remove('focused'));
    // Toggle similar styles via CSS when .focused present:
    const style = document.createElement('style');
    style.textContent = `
      .file.focused .work-4 { transform: rotateX(-20deg); }
      .file.focused .work-3 { transform: rotateX(-30deg); }
      .file.focused .work-2 { transform: rotateX(-38deg); }
      .file.focused .work-1 { transform: rotateX(-46deg) translateY(1px); box-shadow: inset 0 20px 40px #fbbf24, inset 0 -20px 40px #d97706; }
      .file.focused .work-5 { box-shadow: 0 20px 40px rgba(0,0,0,.2); transform: translateZ(4px); }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
